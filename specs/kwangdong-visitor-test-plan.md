# 광동제약 공장 방문예약 시스템 테스트 플랜

## 개요
**시스템명**: 광동제약 공장 방문예약 시스템
**URL**: https://kwangdong-site.vercel.app/
**목적**: 광동제약 공장 방문자 사전예약 및 관리
**대상 사용자**: 방문예약자, 임직원

## 사이트 구조 분석

### 주요 페이지
1. **홈페이지** (`/`)
   - 방문예약 시스템 소개
   - 공장 선택 드롭다운
   - 신청하기 버튼
   - 방문절차 안내 (5단계)

2. **예약현황** (`/progress`)
   - 예약 확인 및 조회

3. **공지사항** (`/notice`)
   - 시스템 공지사항

4. **FAQ** (`/faq`)
   - 자주 묻는 질문

5. **임직원모드** (`/employee`)
   - 관리자/임직원 전용 기능

6. **방문신청** (`/reservation/agreement`)
   - 약관 동의 및 예약 신청

### UI 컴포넌트
- **네비게이션 메뉴**: 방문예약, 예약현황, 공지사항, FAQ, 임직원모드
- **드롭다운**: 공장 선택 (송탄공장, GMP공장)
- **버튼**: 예약현황, 신청하기, 방문신청약관, 개인정보처리방침
- **정보 섹션**: 방문절차 안내 (STEP 01~05), 공장 연락처

### 공장 정보
1. **광동제약 송탄공장**
   - 주소: 경기도 평택시 경기대로 1081 (장당동)
   - 전화: 031-8030-1777

2. **광동제약 GMP공장**
   - 주소: 경기도 평택시 산단로 114
   - 전화: 031-612-1111

## 테스트 스위트

### 1. 홈페이지 및 네비게이션 테스트

#### 1.1 홈페이지 로드 테스트
**파일**: `tests/homepage/homepage-load.spec.ts`

**시나리오**:
- 홈페이지 접속
- 페이지 타이틀 확인: "광동제약 방문 관리 시스템"
- 주요 텍스트 확인: "방문예약시스템에 오신 것을 환영합니다"
- 방문절차 5단계 표시 확인

**검증**:
- [ ] 페이지가 3초 이내에 로드됨
- [ ] 모든 이미지가 정상 표시됨
- [ ] 네비게이션 메뉴 5개 항목 표시

#### 1.2 네비게이션 메뉴 테스트
**파일**: `tests/navigation/navigation-menu.spec.ts`

**시나리오**:
- 각 메뉴 항목 클릭
- 올바른 페이지로 이동 확인

**테스트 케이스**:
1. "방문예약" 클릭 → 홈페이지 (`/`)
2. "예약현황" 클릭 → 예약현황 페이지 (`/progress`)
3. "공지사항" 클릭 → 공지사항 페이지 (`/notice`)
4. "FAQ" 클릭 → FAQ 페이지 (`/faq`)
5. "임직원모드" 클릭 → 임직원 로그인 페이지 (`/employee`)

#### 1.3 반응형 테스트
**파일**: `tests/responsive/homepage-responsive.spec.ts`

**시나리오**:
- 모바일 (375x667) - iPhone SE
- 태블릿 (768x1024) - iPad
- 데스크톱 (1920x1080)

**검증**:
- [ ] 네비게이션 메뉴 적절히 표시 (모바일: 햄버거 메뉴)
- [ ] 텍스트 가독성 유지
- [ ] 버튼 클릭 가능 영역 충분

### 2. 공장 선택 및 방문신청 테스트

#### 2.1 공장 선택 드롭다운 테스트
**파일**: `tests/reservation/factory-selection.spec.ts`

**시나리오**:
- "공장을 선택하세요" 드롭다운 클릭
- 옵션 목록 확인

**검증**:
- [ ] 드롭다운이 열림
- [ ] "송탄공장" 옵션 표시
- [ ] "GMP공장" 옵션 표시
- [ ] 선택 시 값이 반영됨

#### 2.2 방문신청 약관 동의 테스트
**파일**: `tests/reservation/agreement.spec.ts`

**시나리오**:
1. 홈페이지에서 "신청하기" 클릭
2. 약관 페이지 (`/reservation/agreement`)로 이동
3. "방문신청약관" 확인
4. "개인정보처리방침" 확인
5. 약관 동의 체크박스 선택

**검증**:
- [ ] 약관 내용이 표시됨
- [ ] 개인정보처리방침 내용이 표시됨
- [ ] 체크박스 선택/해제 가능
- [ ] 동의하지 않으면 다음 단계 진행 불가

#### 2.3 방문예약 신청 - 정상 경로
**파일**: `tests/reservation/reservation-happy-path.spec.ts`

**시나리오**:
1. 홈페이지 접속
2. 공장 선택 (송탄공장 또는 GMP공장)
3. "신청하기" 클릭
4. 약관 동의
5. 방문자 정보 입력
   - 이름
   - 연락처
   - 이메일
   - 회사명
   - 방문 목적
   - 방문 날짜 및 시간
   - 방문 인원
6. 제출
7. 예약 확인

**검증**:
- [ ] 모든 필수 필드 입력 가능
- [ ] 제출 후 성공 메시지 표시
- [ ] 예약 번호 발급
- [ ] 예약현황에서 확인 가능

#### 2.4 방문예약 신청 - 유효성 검사
**파일**: `tests/reservation/reservation-validation.spec.ts`

**시나리오**:
1. 필수 필드 미입력 시도
2. 잘못된 이메일 형식
3. 잘못된 전화번호 형식
4. 과거 날짜 선택
5. 0명 이하 인원 입력

**검증**:
- [ ] 적절한 오류 메시지 표시
- [ ] 제출 버튼 비활성화 또는 제출 차단
- [ ] 오류 필드에 포커스 이동

### 3. 예약현황 테스트

#### 3.1 예약 조회 테스트
**파일**: `tests/progress/reservation-lookup.spec.ts`

**시나리오**:
1. 예약현황 페이지 접속
2. 예약 번호 또는 연락처로 조회
3. 예약 정보 확인

**검증**:
- [ ] 조회 폼 표시
- [ ] 올바른 정보 입력 시 예약 내역 표시
- [ ] 잘못된 정보 입력 시 "예약을 찾을 수 없습니다" 메시지

#### 3.2 예약 수정 테스트
**파일**: `tests/progress/reservation-modification.spec.ts`

**시나리오**:
1. 예약 조회
2. 수정 버튼 클릭
3. 정보 변경 (날짜, 인원 등)
4. 저장

**검증**:
- [ ] 수정 가능한 필드 활성화
- [ ] 변경사항 저장 성공
- [ ] 변경 후 알림 (이메일/SMS)

#### 3.3 예약 취소 테스트
**파일**: `tests/progress/reservation-cancellation.spec.ts`

**시나리오**:
1. 예약 조회
2. 취소 버튼 클릭
3. 취소 확인 팝업
4. 취소 확정

**검증**:
- [ ] 취소 확인 다이얼로그 표시
- [ ] 확정 시 예약 상태 "취소됨"으로 변경
- [ ] 취소 알림 발송

### 4. 임직원 모드 테스트

#### 4.1 임직원 로그인 테스트
**파일**: `tests/employee/employee-login.spec.ts`

**시나리오**:
1. 임직원모드 클릭
2. 로그인 페이지 표시
3. 아이디/비밀번호 입력
4. 로그인

**검증**:
- [ ] 로그인 폼 표시
- [ ] 올바른 자격증명으로 로그인 성공
- [ ] 잘못된 자격증명 시 오류 메시지
- [ ] 세션 유지

#### 4.2 예약 승인/거부 테스트
**파일**: `tests/employee/reservation-approval.spec.ts`

**시나리오**:
1. 임직원 로그인
2. 대기 중인 예약 목록 확인
3. 예약 선택
4. 승인 또는 거부
5. 사유 입력 (거부 시)

**검증**:
- [ ] 대기 중인 예약 목록 표시
- [ ] 승인 시 상태 "승인됨"으로 변경
- [ ] 거부 시 사유 입력 필수
- [ ] 신청자에게 알림 발송

#### 4.3 예약 관리 대시보드 테스트
**파일**: `tests/employee/reservation-dashboard.spec.ts`

**시나리오**:
1. 임직원 로그인
2. 대시보드 확인
3. 통계 정보 확인
   - 오늘 예약 수
   - 대기 중인 예약
   - 승인된 예약
   - 취소된 예약

**검증**:
- [ ] 실시간 통계 표시
- [ ] 날짜별 필터링 가능
- [ ] 공장별 필터링 가능
- [ ] 엑셀 내보내기 기능

### 5. 공지사항 및 FAQ 테스트

#### 5.1 공지사항 조회 테스트
**파일**: `tests/notice/notice-list.spec.ts`

**시나리오**:
1. 공지사항 페이지 접속
2. 공지사항 목록 확인
3. 특정 공지사항 클릭
4. 상세 내용 확인

**검증**:
- [ ] 공지사항 목록 표시
- [ ] 최신순 정렬
- [ ] 제목, 작성일, 조회수 표시
- [ ] 상세 페이지 이동

#### 5.2 FAQ 검색 테스트
**파일**: `tests/faq/faq-search.spec.ts`

**시나리오**:
1. FAQ 페이지 접속
2. 검색어 입력
3. 검색 결과 확인
4. FAQ 항목 클릭하여 답변 확인

**검증**:
- [ ] 검색 기능 작동
- [ ] 관련 FAQ 표시
- [ ] 아코디언 형식으로 답변 표시

### 6. 접근성 테스트

#### 6.1 키보드 네비게이션 테스트
**파일**: `tests/accessibility/keyboard-navigation.spec.ts`

**시나리오**:
1. Tab 키로 모든 인터랙티브 요소 탐색
2. Enter 키로 버튼/링크 실행
3. Escape 키로 모달 닫기
4. 화살표 키로 드롭다운 탐색

**검증**:
- [ ] 논리적 탭 순서
- [ ] 포커스 표시 명확
- [ ] 키보드만으로 모든 기능 사용 가능

#### 6.2 스크린 리더 호환성 테스트
**파일**: `tests/accessibility/screen-reader.spec.ts`

**시나리오**:
1. ARIA 라벨 확인
2. 대체 텍스트 확인
3. 시맨틱 HTML 사용 확인

**검증**:
- [ ] 모든 이미지에 alt 텍스트
- [ ] 폼 필드에 label 연결
- [ ] 적절한 heading 계층 구조

#### 6.3 색상 대비 테스트
**파일**: `tests/accessibility/color-contrast.spec.ts`

**검증**:
- [ ] WCAG 2.1 AA 준수 (4.5:1)
- [ ] 버튼 텍스트 가독성
- [ ] 링크 구분 가능

### 7. 성능 테스트

#### 7.1 페이지 로드 성능 테스트
**파일**: `tests/performance/page-load.spec.ts`

**메트릭**:
- First Contentful Paint (FCP) < 1.8초
- Largest Contentful Paint (LCP) < 2.5초
- Time to Interactive (TTI) < 3.8초
- Total Blocking Time (TBT) < 300ms

#### 7.2 네트워크 요청 최적화 테스트
**파일**: `tests/performance/network-requests.spec.ts`

**검증**:
- [ ] 이미지 최적화 (WebP, 압축)
- [ ] CSS/JS 압축 및 번들링
- [ ] 불필요한 요청 제거

### 8. 보안 테스트

#### 8.1 XSS 방어 테스트
**파일**: `tests/security/xss-protection.spec.ts`

**시나리오**:
- 폼 필드에 스크립트 삽입 시도
- URL 파라미터에 스크립트 삽입

**검증**:
- [ ] 스크립트 실행 차단
- [ ] 입력값 이스케이프 처리

#### 8.2 CSRF 방어 테스트
**파일**: `tests/security/csrf-protection.spec.ts`

**검증**:
- [ ] CSRF 토큰 존재
- [ ] 토큰 없이 제출 시 차단

#### 8.3 인증 세션 테스트
**파일**: `tests/security/session-management.spec.ts`

**시나리오**:
1. 임직원 로그인
2. 30분 방치
3. 세션 만료 확인

**검증**:
- [ ] 세션 타임아웃 적용
- [ ] 로그아웃 시 세션 삭제

## 테스트 데이터

### 유효한 테스트 데이터
```typescript
export const validVisitorData = {
  name: "홍길동",
  phone: "010-1234-5678",
  email: "hong@example.com",
  company: "테스트 회사",
  purpose: "공장 견학",
  visitDate: "2026-02-01",
  visitTime: "14:00",
  visitors: 3
};
```

### 유효하지 않은 테스트 데이터
```typescript
export const invalidData = {
  invalidEmail: "invalid-email",
  invalidPhone: "123",
  pastDate: "2020-01-01",
  zeroVisitors: 0
};
```

## 테스트 환경

### 브라우저
- Chromium (Desktop)
- Firefox (Desktop)
- WebKit (Desktop)
- Mobile Chrome (Pixel 5)
- Mobile Safari (iPhone 12)
- iPad Pro

### 로케일 및 타임존
- **Locale**: ko-KR
- **Timezone**: Asia/Seoul

## 성공 기준

### 테스트 커버리지
- [ ] 모든 주요 사용자 워크플로우 테스트 완료
- [ ] 네비게이션 100% 커버
- [ ] 폼 검증 100% 커버
- [ ] 모바일/데스크톱 반응형 테스트
- [ ] WCAG 2.1 AA 접근성 준수

### 품질 메트릭
- [ ] 테스트 통과율 > 98%
- [ ] 플레이키 테스트 < 2%
- [ ] 전체 테스트 실행 시간 < 10분
- [ ] 페이지 로드 시간 < 3초

## 구현 우선순위

### Phase 1: 핵심 기능 (Week 1-2)
1. ✅ 홈페이지 로드 및 네비게이션
2. ✅ 공장 선택 및 방문신청
3. ✅ 예약현황 조회
4. ✅ 약관 동의

### Phase 2: 관리 기능 (Week 2-3)
5. ⏳ 임직원 로그인
6. ⏳ 예약 승인/거부
7. ⏳ 대시보드 및 통계

### Phase 3: 추가 기능 (Week 3-4)
8. ⏳ 공지사항 및 FAQ
9. ⏳ 예약 수정/취소

### Phase 4: 품질 속성 (Week 4-5)
10. ⏳ 접근성 테스트
11. ⏳ 반응형 테스트
12. ⏳ 성능 및 보안 테스트

### Phase 5: 안정화 (Week 5-6)
13. ⏳ 테스트 힐링 및 최적화
14. ⏳ CI/CD 통합
15. ⏳ 문서화

## 다음 단계

1. ✅ Playwright 설치 및 설정 완료
2. ✅ 테스트 디렉토리 구조 생성 완료
3. ✅ 사이트 탐색 및 분석 완료
4. ✅ 테스트 플랜 문서 작성 완료
5. ⏳ Phase 1 테스트 생성 시작
6. ⏳ 첫 번째 테스트 실행 및 검증

---

**문서 버전**: 1.0
**작성일**: 2026-01-01
**최종 업데이트**: 2026-01-01
